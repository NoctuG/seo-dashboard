# ==============================================================================
# SEO Dashboard 后端环境变量配置
# ==============================================================================
# 复制本文件为 .env 并根据实际环境修改：
#   cp backend/.env.example backend/.env
#
# 标注 [生产必填] 的项目在 ENV=production 时必须显式配置。
# ==============================================================================

# ---------- 运行环境 ----------
# 设置为 production 时将启用更严格的安全校验
ENV=development

# ---------- 数据库 ----------
DATABASE_URL=sqlite:///./seo_tool.db

# ---------- JWT 认证 [生产必填] ----------
# 签名密钥，生产环境至少 32 字符的高熵随机值
# 生成示例: python -c "import secrets; print(secrets.token_urlsafe(48))"
JWT_SECRET_KEY=dev-jwt-secret-key-change-this-in-production-2026
JWT_EXPIRE_MINUTES=1440
JWT_REFRESH_EXPIRE_MINUTES=10080

# ---------- 初始管理员（可选） ----------
# 首次启动时自动创建管理员账户（仅当数据库中无任何用户时生效）
# 也可不设置此项，改用 POST /api/v1/auth/bootstrap-admin 接口手动创建
INITIAL_ADMIN_EMAIL=
INITIAL_ADMIN_PASSWORD=
INITIAL_ADMIN_NAME=Administrator

# ---------- SMTP 邮件服务 ----------
# 用于密码重置等邮件通知功能
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=
SMTP_USE_TLS=true

# ---------- 密码重置 ----------
PASSWORD_RESET_TOKEN_EXPIRE_MINUTES=60
# [生产必填] 改为实际域名，如 https://seo.example.com/reset-password
PASSWORD_RESET_URL=http://localhost:32000/reset-password

# ---------- CORS [生产必填] ----------
# 逗号分隔或 JSON 数组格式；生产环境必须使用实际域名
ALLOWED_ORIGINS=http://localhost:32000,http://127.0.0.1:32000

# ---------- AI 助手（OpenAI 兼容接口） ----------
AI_BASE_URL=https://api.openai.com/v1
AI_API_KEY=sk-xxxx
AI_MODEL=gpt-4o-mini

# ---------- SERP API 关键词排名 ----------
SERP_API_KEY=
SERP_API_PROVIDER=serpapi

# ---------- 流量分析 ----------
# 可选值: sample, ga4, matomo
ANALYTICS_PROVIDER=sample
ANALYTICS_MEANINGFUL_GROWTH_PCT=10

# GA4（需外部管理 OAuth 访问令牌）
GA4_PROPERTY_ID=
GA4_ACCESS_TOKEN=

# Matomo
MATOMO_BASE_URL=
MATOMO_SITE_ID=
MATOMO_TOKEN_AUTH=

# ---------- 日志 ----------
# 日志级别: DEBUG, INFO, WARNING, ERROR
LOG_LEVEL=INFO
# 日志格式: json（推荐生产环境）或 plain
LOG_FORMAT=json

# ---------- 备份 ----------
BACKUP_DIR=/data/backups
